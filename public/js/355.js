"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[355],{4355:(t,a,i)=>{i.r(a),i.d(a,{default:()=>o});const r={data:function(){return{titulo:"Empresas",notificacionValidad:!1,notificacionError:!1,colorNotificacion:"green",mensajeNoificacion:"",dialogDelete:!1,Seleccion:{},headers:[{text:"Id",value:"id"},{text:"Nombre",value:"nombre"},{text:"Nombre Nominativo",value:"nombreNominativo"},{text:"Rfc",value:"rfc"},{text:"Estatus",value:"estatus"},{text:"Editar",value:"actions",sortable:!1}],items:[],buscar:""}},created:function(){this.initialize()},methods:{recargarEmpresas:function(){this.initialize()},initialize:function(){var t=this;axios.get("/consorcioceag/public/api/empresas/allEmpresas").then((function(a){t.items=a.data})).catch((function(a){t.mostrarNoificacion("No es posible cargar de "+t.titulo,!0)}))},Guardado:function(){this.mostrarNoificacion("Guardado con exito",!1),this.initialize()},usuarioEditarGuardado:function(){this.mostrarNoificacion("Editado Exitoso",!1),this.initialize()},mostrarNoificacion:function(t,a){this.mensajeNoificacion=t,a?this.notificacionError=!0:this.notificacionValidad=!0},cambioEstatus:function(t){this.dialogDelete=!0,this.Seleccion=t},noBorrar:function(){this.dialogDelete=!1,this.initialize()},borrar:function(){var t=this;axios.delete("/api/empresas/borrar/"+this.Seleccion.id).then((function(a){t.dialogDelete=!1,t.mostrarNoificacion("  ESTATUS ACTUALIZADO",!1)})).catch((function(a){console.log("error  usuario "+a),t.mostrarNoificacion("  ESTATUS  NO ACTUALIZADO",!0)}))}}};const o=(0,i(4486).A)(r,(function(){var t=this,a=t._self._c;return a("div",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.items,search:t.buscar},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",[a("v-toolbar-title",[t._v(t._s(t.titulo))]),t._v(" "),a("v-text-field",{staticClass:"pt-6 pl-6",attrs:{name:"name",label:"Buscar",id:"id","append-icon":"mdi-magnify"},model:{value:t.buscar,callback:function(a){t.buscar=a},expression:"buscar"}}),t._v(" "),a("v-spacer"),t._v(" "),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t._v(" "),a("v-dialog",{attrs:{transition:"scroll-y-transition","max-width":"1200"},scopedSlots:t._u([{key:"activator",fn:function(i){var r=i.on,o=i.attrs;return[a("v-btn",t._g(t._b({attrs:{color:"primary"}},"v-btn",o,!1),r),[t._v("Nueva "+t._s(t.titulo))])]}},{key:"default",fn:function(i){return[a("v-card",[a("v-toolbar",{attrs:{color:"primary",dark:""}},[t._v("NUEVA "+t._s(t.titulo.toUpperCase())+"\r\n                                "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{text:""},on:{click:function(t){i.value=!1}}},[t._v("X")])],1),t._v(" "),a("CrearEmpresas",{attrs:{cerrarDialogo:i},on:{recargarEmpresas:t.recargarEmpresas}}),t._v(" "),a("v-card-actions",{staticClass:"justify-end"})],1)]}}])}),t._v(" "),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDelete,callback:function(a){t.dialogDelete=a},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[t._v("ESTA SEGURO CAMBIAR ESTATUS ?")]),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(a){return t.noBorrar()}}},[t._v("Cancel")]),t._v(" "),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(a){return t.borrar()}}},[t._v("OK")]),t._v(" "),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.estatus",fn:function(i){var r=i.item;return[a("div",[a("v-switch",{on:{click:function(a){return t.cambioEstatus(r)}},model:{value:r.estatus,callback:function(a){t.$set(r,"estatus",a)},expression:"item.estatus"}})],1)]}},{key:"item.actions",fn:function(i){var r=i.item;return[a("v-dialog",{attrs:{"max-width":"1200"},scopedSlots:t._u([{key:"activator",fn:function(i){var r=i.on,o=i.attrs;return[a("v-icon",t._g(t._b({staticClass:"pr-2",attrs:{color:"secondary",dark:""}},"v-icon",o,!1),r),[t._v("\r\n                        mdi-pencil\r\n                    ")])]}},{key:"default",fn:function(i){return[a("v-card",[a("v-toolbar",{attrs:{color:"primary",dark:""}},[t._v("EDITAR "+t._s(t.titulo.toUpperCase())+" "+t._s(r.email)+"\r\n                            "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{text:""},on:{click:function(t){i.value=!1}}},[t._v("X")])],1),t._v(" "),a("br"),t._v(" "),a("EditarEmpresas",{attrs:{cerrarDialogo:i,empresaOriginal:r},on:{recargarEmpresas:t.recargarEmpresas}}),t._v(" "),a("v-card-actions",{staticClass:"justify-end"})],1)]}}],null,!0)})]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v("\r\n                Reset\r\n            ")])]},proxy:!0}])}),t._v(" "),a("v-snackbar",{attrs:{timeout:1500,value:!0,color:"green",absolute:"",top:"",shaped:"",transition:"scroll-y-transition"},model:{value:t.notificacionValidad,callback:function(a){t.notificacionValidad=a},expression:"notificacionValidad"}},[t._v("\r\n        "+t._s(t.mensajeNoificacion)+"\r\n    ")]),t._v(" "),a("v-snackbar",{attrs:{timeout:1500,value:!0,color:"red",absolute:"",top:"",shaped:"",transition:"scroll-y-transition"},model:{value:t.notificacionError,callback:function(a){t.notificacionError=a},expression:"notificacionError"}},[t._v("\r\n        "+t._s(t.mensajeNoificacion)+"\r\n    ")])],1)}),[],!1,null,null,null).exports}}]);
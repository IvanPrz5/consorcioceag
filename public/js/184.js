"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[184],{9184:(a,t,i)=>{i.r(t),i.d(t,{default:()=>s});const o={data:function(){return{dialogDelete:!1,dialogoNuevoUsuario:!1,dialogoEditarUsuario:!1,notificacionValidad:!1,notificacionError:!1,colorNotificacion:"green",mensajeNoificacion:"",usuarioSelcionado:{},dialogoUsuarioRoles:!1,headers:[{text:"id",value:"id"},{text:"Correo",value:"email"},{text:"Nombre",value:"nombre"},{text:"Paterno",value:"paterno"},{text:"Materno",value:"materno"},{text:"Celular",value:"celular"},{text:"Estatus",value:"estatus"},{text:"Editar",value:"actions",sortable:!1},{text:"Roles",value:"roles",sortable:!1},{text:"Sistemas",value:"sistemas",sortable:!1},{text:"Empresas",value:"empresas",sortable:!1}],usuarios:[],buscarUsuario:""}},computed:{},watch:{},created:function(){this.initialize()},methods:{initialize:function(){var a=this;axios.get("/consorcioceag/public/api/usuarios").then((function(t){a.usuarios=null,a.usuarios=t.data})).catch((function(t){a.mostrarNoificacion("No es posible cargar empleados",!0)}))},usuarioGuardado:function(){this.mostrarNoificacion("Usuario Nuevo Guardado",!1),this.dialogoNuevoUsuario=!1,this.initialize()},usuarioEditarGuardado:function(){this.mostrarNoificacion("Usuario Nuevo Guardado",!1),this.initialize()},mostrarNoificacion:function(a,t){this.mensajeNoificacion=a,t?this.notificacionError=!0:this.notificacionValidad=!0},cambioEstatus:function(a){a.estatus=!a.estatus,this.dialogDelete=!0,this.usuarioSelcionado=a},noBorrar:function(){this.dialogDelete=!1,this.usuarioSelcionado.estatus=!this.usuarioSelcionado.estatus,this.initialize()},borrarUsuario:function(){var a=this;axios.delete("/consorcioceag/public/api/usuarios/"+this.usuarioSelcionado.id).then((function(t){a.usuarioSelcionado.estatus=!a.usuarioSelcionado.estatus,a.dialogDelete=!1,a.mostrarNoificacion(a.usuarioSelcionado.email+"  ESTATUS ACTUALIZADO",!1),a.initialize()})).catch((function(t){console.log("error  usuario "+t),a.mostrarNoificacion(a.usuarioSelcionado.email+"  ESTATUS  NO ACTUALIZADO",!0)}))}}},r=o;const s=(0,i(4486).A)(r,(function(){var a=this,t=a._self._c;return t("div",[t("v-data-table",{staticClass:"elevation-1",attrs:{headers:a.headers,items:a.usuarios,search:a.buscarUsuario},scopedSlots:a._u([{key:"top",fn:function(){return[t("v-toolbar",[t("v-toolbar-title",[a._v("Usuarios")]),a._v(" "),t("v-text-field",{staticClass:"pt-6 pl-6",attrs:{name:"name",label:"Buscar",id:"id","append-icon":"mdi-magnify"},model:{value:a.buscarUsuario,callback:function(t){a.buscarUsuario=t},expression:"buscarUsuario"}}),a._v(" "),t("v-spacer"),a._v(" "),t("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a._v(" "),t("v-dialog",{attrs:{transition:"scroll-y-transition","max-width":"1200"},scopedSlots:a._u([{key:"activator",fn:function(i){var o=i.on,r=i.attrs;return[t("v-btn",a._g(a._b({attrs:{color:"primary"}},"v-btn",r,!1),o),[a._v("Nuevo Usuario")])]}},{key:"default",fn:function(i){return[t("v-card",[t("v-toolbar",{attrs:{color:"primary",dark:""}},[a._v("NUEVO USUARIO "),t("v-spacer"),a._v(" "),t("v-btn",{attrs:{text:""},on:{click:function(a){i.value=!1}}},[a._v("X")])],1),a._v(" "),t("crearUsuario",{on:{usuarioGuardado:a.usuarioGuardado}}),a._v(" "),t("v-card-actions",{staticClass:"justify-end"})],1)]}}]),model:{value:a.dialogoNuevoUsuario,callback:function(t){a.dialogoNuevoUsuario=t},expression:"dialogoNuevoUsuario"}}),a._v(" "),t("v-dialog",{attrs:{"max-width":"500px"},model:{value:a.dialogDelete,callback:function(t){a.dialogDelete=t},expression:"dialogDelete"}},[t("v-card",[t("v-card-title",{staticClass:"text-h5"},[a._v("ESTA SEGURO CAMBIAR ESTATUS ?")]),a._v(" "),t("v-card-actions",[t("v-spacer"),a._v(" "),t("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return a.noBorrar()}}},[a._v("Cancel")]),a._v(" "),t("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return a.borrarUsuario()}}},[a._v("OK")]),a._v(" "),t("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.estatus",fn:function(i){var o=i.item;return[t("div",[t("v-switch",{on:{click:function(t){return a.cambioEstatus(o)}},model:{value:o.estatus,callback:function(t){a.$set(o,"estatus",t)},expression:"item.estatus"}})],1)]}},{key:"item.actions",fn:function(i){var o=i.item;return[t("v-dialog",{attrs:{"max-width":"1200"},scopedSlots:a._u([{key:"activator",fn:function(i){var o=i.on,r=i.attrs;return[t("v-icon",a._g(a._b({staticClass:"pr-2",attrs:{color:"secondary",dark:""}},"v-icon",r,!1),o),[a._v("\r\n                        mdi-pencil\r\n                    ")])]}},{key:"default",fn:function(i){return[t("v-card",[t("v-toolbar",{attrs:{color:"primary",dark:""}},[a._v("EDITAR USUARIO "+a._s(o.email)+"\r\n                            "),t("v-spacer"),a._v(" "),t("v-btn",{attrs:{text:""},on:{click:function(a){i.value=!1}}},[a._v("X")])],1),a._v(" "),t("br"),a._v(" "),t("editarUsuario",{staticClass:"pa-6",attrs:{usuarioRecibe:o,cerrarDialogo:i},on:{usuarioEditarGuardado:a.usuarioEditarGuardado}}),a._v(" "),t("v-card-actions",{staticClass:"justify-end"})],1)]}}],null,!0)})]}},{key:"item.roles",fn:function(i){var o=i.item;return[t("v-dialog",{attrs:{"max-width":"600"},scopedSlots:a._u([{key:"activator",fn:function(i){var o=i.on,r=i.attrs;return[t("v-icon",a._g(a._b({staticClass:"pr-2",attrs:{color:"secondary",dark:""}},"v-icon",r,!1),o),[a._v("\r\n                        mdi-account-plus\r\n                    ")])]}},{key:"default",fn:function(i){return[t("v-card",[t("v-toolbar",{attrs:{color:"primary",dark:""}},[a._v("ROLES DE "+a._s(o.email)+"\r\n                            "),t("v-spacer"),a._v(" "),t("v-btn",{attrs:{text:""},on:{click:function(a){i.value=!1}}},[a._v("X")])],1),a._v(" "),t("br"),a._v(" "),t("UsuariosRoles",{staticClass:"pa-6",attrs:{userId:o.id}}),a._v(" "),t("v-card-actions",{staticClass:"justify-end"})],1)]}}],null,!0)})]}},{key:"item.sistemas",fn:function(i){var o=i.item;return[t("v-dialog",{attrs:{"max-width":"600"},scopedSlots:a._u([{key:"activator",fn:function(i){var o=i.on,r=i.attrs;return[t("v-icon",a._g(a._b({staticClass:"pr-2",attrs:{color:"accent",dark:""}},"v-icon",r,!1),o),[a._v("\r\n                        mdi-tooltip-plus\r\n                    ")])]}},{key:"default",fn:function(i){return[t("v-card",[t("v-toolbar",{attrs:{color:"primary",dark:""}},[a._v("SISTEMAS DE "+a._s(o.email)+"\r\n                            "),t("v-spacer"),a._v(" "),t("v-btn",{attrs:{text:""},on:{click:function(a){i.value=!1}}},[a._v("X")])],1),a._v(" "),t("br"),a._v(" "),t("UsuariosSistemas",{staticClass:"pa-6",attrs:{userId:o.id}}),a._v(" "),t("v-card-actions",{staticClass:"justify-end"})],1)]}}],null,!0)})]}},{key:"item.empresas",fn:function(i){var o=i.item;return[t("v-dialog",{attrs:{"max-width":"600"},scopedSlots:a._u([{key:"activator",fn:function(i){var o=i.on,r=i.attrs;return[t("v-icon",a._g(a._b({staticClass:"pr-2",attrs:{color:"accent",dark:""}},"v-icon",r,!1),o),[a._v("\r\n                        mdi-office-building\r\n                    ")])]}},{key:"default",fn:function(i){return[t("v-card",[t("v-toolbar",{attrs:{color:"primary",dark:""}},[a._v("EMPRESAS DE "+a._s(o.email)+"\r\n                            "),t("v-spacer"),a._v(" "),t("v-btn",{attrs:{text:""},on:{click:function(a){i.value=!1}}},[a._v("X")])],1),a._v(" "),t("br"),a._v(" "),t("UsuariosEmpresas",{staticClass:"pa-6",attrs:{userId:o.id}}),a._v(" "),t("v-card-actions",{staticClass:"justify-end"})],1)]}}],null,!0)})]}},{key:"no-data",fn:function(){return[t("v-btn",{attrs:{color:"primary"},on:{click:a.initialize}},[a._v("\r\n                Reset\r\n            ")])]},proxy:!0}])}),a._v(" "),t("v-snackbar",{attrs:{timeout:1500,value:!0,color:"green",absolute:"",top:"",shaped:"",transition:"scroll-y-transition"},model:{value:a.notificacionValidad,callback:function(t){a.notificacionValidad=t},expression:"notificacionValidad"}},[a._v("\r\n        "+a._s(a.mensajeNoificacion)+"\r\n    ")]),a._v(" "),t("v-snackbar",{attrs:{timeout:1500,value:!0,color:"red",absolute:"",top:"",shaped:"",transition:"scroll-y-transition"},model:{value:a.notificacionError,callback:function(t){a.notificacionError=t},expression:"notificacionError"}},[a._v("\r\n        "+a._s(a.mensajeNoificacion)+"\r\n    ")])],1)}),[],!1,null,null,null).exports}}]);